/**
 * orbweaver v1.0.0-beta.1
 * @copyright 2013-2017 Arana Software <info@aranasoft.com>. https://github.com/aranasoft/orbweaver
 * @license BSD-3-Clause
 */
!function(window,angular,undefined){"use strict";var orbweaver=angular.module("orbProgress",["orbResource"]);orbweaver.factory("NProgress",["$window",function($window){return $window.NProgress}]),orbweaver.provider("orbRestfulProgressService",["$resourceProvider","orbRestfulResourceProvider",function RestfulProgressServiceProvider($resourceProvider,orbRestfulResourceProvider){this.$get=["$q","orbProgressService","orbRestfulService",function($q,orbProgressService,orbRestfulService){function restfulProgressServiceFactory(url,params,actions,options){function RestfulProgressService(){return new resource}var extend=angular.extend,forEach=angular.forEach;actions=extend({},$resourceProvider.defaults.actions,orbRestfulResourceProvider.defaults.actions,actions),options=extend({},orbRestfulResourceProvider.defaults.options,options);var resource=new orbRestfulService(url,params,actions,options);return RestfulProgressService.empty=function(){return new resource},options.saveAsCreateOrUpdate!==!1&&(RestfulProgressService.save=function(){orbProgressService.start();var result=resource.save.apply(this,arguments);return result.$promise?result.$promise["finally"](function(){orbProgressService.done()}):(orbProgressService.done(),result)}),forEach(actions,function(action,name){RestfulProgressService[name]=function(){orbProgressService.start();var result=resource[name].apply(this,arguments);return result.$promise?result.$promise["finally"](function(){orbProgressService.done()}):(orbProgressService.done(),result)}}),RestfulProgressService}return restfulProgressServiceFactory}]}]),orbweaver.factory("orbProgressService",["NProgress",function(NProgress){function incrementProgressCounter(){0===progressCounter&&NProgress.start(),progressCounter++}function decrementProgressCounter(){progressCounter--,0===progressCounter&&NProgress.done()}var progressCounter=0;return{start:incrementProgressCounter,done:decrementProgressCounter}}])}(window,window.angular);
//# sourceMappingURL=orbweaver-progress.min.js.map
